---
fqdn: "clevertor.e.ffh.zone"
apinger_targets2:
- description: clevertor
  ips:
    - 2a02:790::1

servername: clevertor
en: 4

fix_netifnames: false

# networkd_manage_foreign_routes=false is necessary to avoid issues with
# systemd-networkd with very large routing tables. As soon as we have systemd
# in version 247 (or above) everywhere, we can just make this option default
# for all machines. But as of now, this requires installing systemd from debian
# backports, so we only apply it where necessary.
networkd_manage_foreign_routes: false
networkd_configures:
- iface: ens18
  addresses:
    - 194.50.19.35/24
  gateway4: 194.50.19.1
  dns_server: [9.9.9.9, 1.1.1.1]
  no_radv_accept: true
- iface: ens16
- iface: vlan2000
  addresses:
    - 185.1.74.56/25
    - 2001:7f8:a5::20:9347:1/64
- iface: ens19
  addresses:
    - 45.12.203.10/29
    - 2001:678:978:ff01::1/64
  additional_config: |
    [RoutingPolicyRule]
    From=45.12.203.0/24
    Table=2000
    [RoutingPolicyRule]
    From=2001:678:978::/48
    Table=2000
- iface: lo
  addresses:
    - 100.100.0.1/32 # anycast for ping tests
    - 45.12.203.1/32
    - 2001:678:978::1/128

gre_lower_ifaces:
  gre-sn02: ens19
  default: vlan2000

exit_device: "ens19"

networkd_vlans:
- id: 2000
  iface: "ens16"

babeld_interfaces: ["gre-sn01", "gre-sn02", "gre-sn03", "gre-sn04", "gre-sn05", "gre-sn06", "gre-sn07", "gre-sn08", "gre-sn09", "gre-sn10"]
