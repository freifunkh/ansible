UserParameter=bird.memory_master,sudo /usr/sbin/birdc -r show memory
UserParameter=bird.bgp.discovery,sudo /usr/sbin/birdc show protocols | /usr/bin/sed '1,2d' | awk 'BEGIN { printf "{\"data\":["}; /BGP/ { printf c "{\"{#PROTO}\":\"" $1 "\"}" ;c= "," }; END { print "]}" }'
UserParameter=bird.bgp.info,sudo /usr/sbin/birdc show protocols | /usr/bin/awk 'BEGIN { printf "{\"data\": [" }; /BGP/ { printf c "{\"proto\": \"" $1"\", \"state\": \""$4"\", \"since\": \""$5" "$6"\", \"status\": \""$7"\", \"reason\": \""$8$9$10$11$12"\", "; system("if [ -e /tmp/"$1 " ]; then /usr/bin/cat /tmp/"$1 "; else echo -n \\\"routes\\\": \\\"0\\\", \\\"exported\\\": \\\"0\\\", \\\"preferred\\\": \\\"0\\\"; fi"); printf "}" ;c= ", " }; END { print " ]}" }'
